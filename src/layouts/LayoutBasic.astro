---
import { ViewTransitions } from 'astro:transitions';

import RouterLinks from '../components/react_components/RouterLinks.jsx';

import FootNetHive from '../components/global/FootNetHive';

// Importar fuentes desde Fontsource (sistema Cine-Data Multicultural)
import '@fontsource/poppins/700.css';  // Bold para headlines
import '@fontsource/poppins/800.css';  // Extra Bold para H1
import '@fontsource/inter/400.css';    // Regular para body
import '@fontsource/inter/500.css';    // Medium para énfasis
import '@fontsource/inter/600.css';    // Semi-bold para botones/labels


interface Props {
	showNavBar?: boolean;
	showFooter?: boolean;
	dataLayout?:any;
	seoData?:any;
	title:string;
}

const {title, showNavBar=true, showFooter=true, dataLayout, seoData } = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
	
		<meta charset="UTF-8" />
		<meta name="description" content="Astro description" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.png" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		
		<!-- View Transitions para transiciones suaves entre páginas -->
		<ViewTransitions />
	
	</head>
	<header>

		{showNavBar &&  <RouterLinks  transition:persist client:only />}

	
		
	</header>
	<body>	
	<div id="top"></div>


	<main>	

		<slot />

	</main>

	{showFooter && <FootNetHive client:only />}
	</body>

</html>


<style is:global>
	@font-face {
  font-family: 'Inter';
  src: 
  url('/fonts/Inter.ttf') format('ttf'),
  url('/fonts/InterVariable.ttf') format('ttf'),
  url('/fonts/InterVariable.woff2') format('woff2');

  font-display: swap;
}
	@font-face {
  font-family: 'OpenSans';
  src: 
  	url('/fonts/OpenSans.ttf') format('ttf'),
	url('/fonts/OpenSansRegular.ttf') format('ttf'),
	url('/fonts/OpenSansRegular.woff') format('woff'),
	url('/fonts/OpenSansRegular.woff2') format('woff2');

  font-display: swap;
}
	@font-face {
  font-family: 'Catamaran';
  src: 
  	url('/fonts/Catamaran.ttf') format('ttf'),
	url('/fonts/CatamaranRegular.woff') format('woff'),
	url('/fonts/CatamaranRegular.woff2') format('woff2');

  font-display: swap;
}
	@font-face {
  font-family: 'OldPress';
  src: 
  	url('/fonts/OldPress.ttf') format('ttf'),
	url('/fonts/OldPress.woff') format('woff'),
	url('/fonts/OldPress.woff2') format('woff2');

  font-display: swap;
}
	:root {
		/* ========================================
		   ENERGY MEDIA - SISTEMA "CINE-DATA MULTICULTURAL"
		   ======================================== */
		
		/* === PALETA CORE === */
		--em-purple-primary: #672E92;        /* Morado Energy (marca, botones principales) */
		--em-purple-light: #A47EB9;          /* Lavanda medio (fondos suaves, tarjetas) */
		--em-purple-deep: #7E2B7F;           /* Morado profundo (gradientes, secciones dark) */
		
		/* === ACENTOS === */
		--em-cyan-accent: #3EC8F7;           /* Cian brillante (estados activos, highlights) */
		--em-orange-accent: #F56831;         /* Naranja cálido (badges, micro-llamadas) */
		--em-amber-accent: #FAB03D;          /* Ámbar (etiquetas, indicadores) */
		--em-red-accent: #EF1D25;            /* Rojo (alertas/errores, énfasis puntual) */
		
		/* === NEUTROS CON TINTE LAVANDA === */
		--em-bg-offwhite: #F7F5FA;           /* Off-white (fondo de página) */
		--em-border-light: #E1DDEC;          /* Gris lavanda claro (bordes, dividers) */
		--em-border-medium: #DDCDDC;         /* Gris lavanda medio (fills sutiles) */
		--em-text-primary: #1A1024;          /* Ink (texto principal) */
		--em-text-light: #FFFFFF;            /* Blanco (texto sobre morado) */
		--em-text-gray: #6B6B7B;             /* Gris para textos secundarios */
		
		/* === GRADIENTES CINEMATOGRÁFICOS === */
		--em-gradient-purple-cyan: linear-gradient(135deg, #672E92, #3EC8F7);
		--em-gradient-purple-black: linear-gradient(180deg, #672E92, #1A1024);
		--em-gradient-purple-magenta: linear-gradient(135deg, #7E2B7F, #672E92);
		--em-gradient-dark-purple: linear-gradient(180deg, #1A1024 0%, #672E92 100%);
		--em-gradient-light-lavender: linear-gradient(180deg, #F7F5FA 0%, #E1DDEC 100%);
		--em-gradient-cta: linear-gradient(135deg, #672E92 0%, #A47EB9 100%);
		
		/* === TIPOGRAFÍA CINE-DATA === */
		--em-font-headline: 'Poppins', 'Plus Jakarta Sans', 'Inter', sans-serif;
		--em-font-body: 'Inter', system-ui, -apple-system, sans-serif;
		
		/* === ESCALA TIPOGRÁFICA (Mobile-first responsive) === */
		--em-text-h1: clamp(3.5rem, 5vw, 4rem);        /* 56-64px */
		--em-text-h2: clamp(2.25rem, 3.5vw, 2.5rem);   /* 36-40px */
		--em-text-h3: clamp(1.5rem, 2vw, 1.75rem);     /* 24-28px */
		--em-text-body: clamp(1rem, 1.5vw, 1.125rem);  /* 16-18px */
		--em-text-caption: 0.875rem;                   /* 14px */
		--em-text-small: 0.75rem;                      /* 12px */
		
		/* === LINE-HEIGHT === */
		--em-leading-tight: 1.2;
		--em-leading-normal: 1.5;
		--em-leading-relaxed: 1.75;
		
		/* === SOMBRAS CINEMATOGRÁFICAS (3 capas de profundidad) === */
		--em-shadow-card: 
			0 10px 30px rgba(103, 46, 146, 0.08),
			0 2px 8px rgba(103, 46, 146, 0.04);
		--em-shadow-card-hover: 
			0 15px 40px rgba(103, 46, 146, 0.12),
			0 4px 12px rgba(103, 46, 146, 0.06);
		--em-shadow-dramatic: 
			0 20px 50px rgba(103, 46, 146, 0.15),
			0 8px 16px rgba(103, 46, 146, 0.08);
		--em-shadow-glow-cyan: 0 0 20px rgba(62, 200, 247, 0.3);
		--em-shadow-glow-purple: 0 0 20px rgba(103, 46, 146, 0.4);
		
		/* === EASING CINEMATOGRÁFICO === */
		--em-ease-smooth: cubic-bezier(0.22, 1, 0.36, 1);
		--em-ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
		--em-ease-enter: cubic-bezier(0.4, 0, 0.2, 1);
		--em-ease-exit: cubic-bezier(0.4, 0, 1, 1);
		
		/* === SPACING (8px base) === */
		--em-space-xs: 0.5rem;    /* 8px */
		--em-space-sm: 1rem;      /* 16px */
		--em-space-md: 1.5rem;    /* 24px */
		--em-space-lg: 2rem;      /* 32px */
		--em-space-xl: 3rem;      /* 48px */
		--em-space-2xl: 4rem;     /* 64px */
		--em-space-3xl: 6rem;     /* 96px */
		
		/* === BORDER RADIUS === */
		--em-radius-sm: 8px;
		--em-radius-md: 12px;
		--em-radius-lg: 20px;
		--em-radius-xl: 24px;
		--em-radius-full: 9999px;
		
		/* === BREAKPOINTS (para JS si se necesita) === */
		--em-breakpoint-sm: 640px;
		--em-breakpoint-md: 768px;
		--em-breakpoint-lg: 1024px;
		--em-breakpoint-xl: 1280px;
		--em-breakpoint-2xl: 1536px;

		/* === VARIABLES LEGACY (mantener compatibilidad) === */
		--primary-color: var(--em-purple-primary);
		--secondary-color: var(--em-cyan-accent);
		--font-family-primary: var(--em-font-body);
		--font-family-secondary: var(--em-font-body);
		
		/* === TAMAÑOS LEGACY === */
		--fs-xl: var(--em-text-h1);
		--fs-lg: var(--em-text-h2);
		--fs-md: var(--em-text-h3);
		--fs-sm: var(--em-text-body);
		--fs-xs: var(--em-text-caption);
		--fs-xxs: var(--em-text-small);
	}

	*, 
	*::before, 
	*::after{
	
		box-sizing: border-box;
		text-overflow: ellipsis;
		font-family: var(--font-family-primary);
	}

	html {
	position: relative;
	overflow-x: hidden;
	-webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select:none;
    user-select:none;
	box-sizing: border-box;
	scroll-behavior: smooth;
	background-color: var(--em-bg-offwhite);
	
    overflow-y: scroll;
	scrollbar-width: thin; /* Firefox: Scrollbar más delgado */
	scrollbar-color: var(--em-purple-primary) var(--em-border-light); /* Firefox: Color morado */
	}
	
	/* Scrollbar personalizado para Webkit (Chrome, Safari, Edge) */
	::-webkit-scrollbar {
		width: 10px;
	}
	
	::-webkit-scrollbar-track {
		background: var(--em-border-light);
	}
	
	::-webkit-scrollbar-thumb {
		background: var(--em-purple-primary);
		border-radius: var(--em-radius-full);
	}
	
	::-webkit-scrollbar-thumb:hover {
		background: var(--em-purple-deep);
	}
    
	body{
		font-family: var(--em-font-body);
		background: var(--em-bg-offwhite);
		color: var(--em-text-primary);
		z-index: 0;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
	}
	

	main {
		position: relative;
		z-index: 0;
		min-height: calc(100vh - 70px);
		
/* 		background-color: #00000000 */

	}



	header {
		position: fixed;
		top: 0;
		left: 0;
		width: 100vw;
		height: 70px;
		z-index: 1000;
		font-family: var(--font-family-primary);
	}

	footer {
		position: relative;
		width: 100%;
		min-height: fit-content;
		height: auto;
		font-family: var(--em-font-body);
		background: var(--em-gradient-purple-black);
		z-index: 1;
		overflow: hidden;
	}
	
	/* === UTILITY CLASSES CINEMATOGRÁFICAS === */
	.cinematic-grain::before {
		content: '';
		position: absolute;
		inset: 0;
		background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
		pointer-events: none;
		z-index: 1;
	}
	
	.text-gradient-purple-cyan {
		background: var(--em-gradient-purple-cyan);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
	}
	
	/* === ACCESIBILIDAD: Reduce Motion === */
	@media (prefers-reduced-motion: reduce) {
		*,
		*::before,
		*::after {
			animation-duration: 0.01ms !important;
			animation-iteration-count: 1 !important;
			transition-duration: 0.01ms !important;
			scroll-behavior: auto !important;
		}
	}

	/* Transiciones personalizadas para View Transitions */
	@view-transition {
		navigation: auto;
	}

	/* Transición principal - fade y slide suave */
	::view-transition-old(root),
	::view-transition-new(root) {
		animation-duration: 0.5s;
		animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
	}

	::view-transition-old(root) {
		animation-name: slide-out-to-left;
	}

	::view-transition-new(root) {
		animation-name: slide-in-from-right;
	}

	/* Animaciones personalizadas */
	@keyframes slide-out-to-left {
		from {
			transform: translateX(0);
			opacity: 1;
		}
		to {
			transform: translateX(-30px);
			opacity: 0;
		}
	}

	@keyframes slide-in-from-right {
		from {
			transform: translateX(30px);
			opacity: 0;
		}
		to {
			transform: translateX(0);
			opacity: 1;
		}
	}

	/* Transición especial para el navbar - se mantiene fijo */
	header {
		view-transition-name: navbar;
	}

	::view-transition-old(navbar),
	::view-transition-new(navbar) {
		animation: none;
	}

	/* Transición especial para el footer */
	footer {
		view-transition-name: footer;
	}

	::view-transition-old(footer),
	::view-transition-new(footer) {
		animation-duration: 0.4s;
		animation-timing-function: ease-out;
	}

	/* Animación de carga para mejorar la percepción */
	html:not(.astro-route-transition) {
		animation: page-initial-load 0.3s ease-out;
	}

	@keyframes page-initial-load {
		from {
			opacity: 0;
			transform: translateY(10px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}
</style>
